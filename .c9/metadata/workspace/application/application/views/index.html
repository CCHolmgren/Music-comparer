{"changed":true,"filter":false,"title":"index.html","tooltip":"/application/application/views/index.html","value":"{% extends \"layout.html\" %}\n{% block content %}\n    <script src=\"/javascripts/chart.js\"></script>\n    <link href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\" rel=\"stylesheet\">\n    <style>\n        .docs-header {\n            text-transform: uppercase;\n            font-size: 1.4rem;\n            letter-spacing: .2rem;\n            font-weight: 600;\n        }\n\n        .box {\n            margin-top: 1.5rem;\n            border: 1px solid #E1E1E1;\n            padding: 2.5rem 3rem;\n            border-radius: 4px;\n            margin-bottom: 1.5rem;\n        }\n        .controllers {\n            padding-top:30px;\n        }\n        canvas {\n            width: 50%;\n        }\n    </style>\n    <div class=\"row controllers\" id=\"search\">\n        <div class=\"five columns\">\n            <input type=\"text\" name=\"query1\" placeholder=\"Text\" id=\"query1\"/>\n            <i class=\"fa fa-spinner fa-spin\" style=\"display:none\" id=\"spinner1\"></i>\n        </div>\n        <div class=\"two columns\">\n            <input class=\"btn\" id=\"compare\" type=\"submit\" value=\"Compare!\"/>\n        </div>\n        <div class=\"five columns\">\n            <input class=\"u-pull-right\" type=\"text\" name=\"query2\" placeholder=\"Text\" id=\"query2\"/>\n            <i class=\"fa fa-spinner fa-spin\" style=\"display:none\" id=\"spinner2\"></i>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"twelve columns\">\n            <p id=\"loading\"></p>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"twelve columns\">\n            <div id=\"charts\">\n                <canvas id='follower_canvas' height='400'></canvas>\n                <canvas id='listeners_canvas' height='400'></canvas>\n                <canvas id='playcount_canvas' height='400'></canvas>\n                <span>Popularity</span>\n                <canvas id='popularity_canvas' height='100'></canvas>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"twelve columns\">\n            <table class=\"u-full-width\">\n                <thead>\n                <tr>\n                    <th>Artist name</th>\n                    <th>Followers</th>\n                    <th>Playcount</th>\n                    <th>Listeners</th>\n                    <th>Popularity</th>\n                    <th>PPF</th>\n                    <th>PPL</th>\n                </tr>\n                </thead>\n                <tbody id=\"tbody_data\">\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"twelve columns\">\n            <div id=\"result\">\n\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"twelve columns\">\n            <div id=\"result2\">\n                <canvas id='result2_canvas' width='400' height='400'></canvas>\n            </div>\n        </div>\n    </div>\n\n    {% if result %}\n        <pre>\n        <code>\n            {{ result }}\n        </code>\n    </pre>\n    {% endif %}\n    <script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js\"></script>\n    <script src=\"/javascripts/please.min.js\"></script>\n    <script>\n        var searchCount = 0;\n        function addCommas(nStr) {\n            nStr += '';\n            x = nStr.split('.');\n            x1 = x[0];\n            x2 = x.length > 1 ? '.' + x[1] : '';\n            var rgx = /(\\d+)(\\d{3})/;\n            while (rgx.test(x1)) {\n                x1 = x1.replace(rgx, '$1' + ' ' + '$2');\n            }\n            return x1 + x2;\n        }\n        function search(query, type, callback, spinner) {\n            searchCount += 1;\n            query = query.trim().toLowerCase();\n            console.log(query);\n            if (localStorage.getItem(query)) {\n                console.log(\"Got item from storage\");\n                console.log(JSON.parse(localStorage.getItem(query)));\n                callback(JSON.parse(localStorage.getItem(query)));\n                return;\n            }\n            type = type || \"artist\";\n            $(spinner).show();\n            $.ajax({\n                method: \"post\",\n                url: \"/api/search2\",\n                data: {query: query, type: type},\n                error: function (x, y, z) {\n                    console.log(arguments);\n                    console.log(x);\n                    $(\"#loading\").text(x.responseJSON.message);\n                }\n            }).done(function (data, y, z) {\n                console.log(arguments);\n                console.log(data);\n\n                $(spinner).hide();\n\n                localStorage.setItem(query, JSON.stringify(data));\n\n                callback(data);\n            });\n        }\n        window.addEventListener(\"offline\", function (e) {\n            $(\"#online\").text(\"You are currently offline. As such you will not be able to do any searches that you haven't already cached. Sorry for the inconvenience.\");\n        });\n        window.addEventListener(\"online\", function (e) {\n            $(\"#online\").text(\"You are currently online. You may do any search that you like.\");\n        });\n        function putInSearchBox(text) {\n            console.log(arguments);\n            text = decodeURI(text);\n            $(\"#query1\").val(text);\n        }\n        function putInSearchBox2(text) {\n            console.log(arguments);\n            text = decodeURI(text);\n            $(\"#query2\").val(text);\n        }\n        function getLatestSearches() {\n            $.ajax({method: 'GET', url: '/api/latestsearches'}).done(function (result) {\n                var div = $(\"#latestsearches\");\n\n                div.empty();\n\n                result.forEach(function (item) {\n                    var onclick = \"$(\\'#query1\\').val(\\'\" + item + \"\\')\";\n                    var onclick2 = \"$(\\'#query2\\').val(\\'\" + item + \"\\')\";\n                    var item_uri = encodeURI(item);\n                    div.append(\"<div><span>\"\n                    + item\n                    + \"</span><div><button data-textbox='query1' data-query='\"+item_uri+\"'\"\n                    + \">Searchbox 1</button><button data-textbox='query2'  data-query='\"+item_uri+\"'>Searchbox 2</button></div>\");\n                });\n                //setTimeout(getLatestSearches, 10000);\n                console.log(arguments);\n            });\n        }\n        window.onload = function () {\n            $(\"#latestsearches\").delegate(\"button\", \"click\", function(event){\n                console.log(arguments);\n                var element = $(this);\n                console.log(element.data(\"textbox\"));\n                console.log($(\"#\"+element.data(\"textbox\"))[0]);\n                $(\"#\"+element.data(\"textbox\"))[0].value = decodeURI(element.data(\"query\"));\n            });\n            initializeCharts();\n            getLatestSearches();\n            //alert(navigator.onLine);\n            if (!navigator.onLine) {\n                $(\"#online\").text(\"You are currently offline\");\n                $(\"#online\").text(navigator.onLine);\n            }\n            console.log(\"Adding eventlistener\");\n            document.getElementById(\"compare\").addEventListener(\"click\", function (e) {\n                e.preventDefault();\n\n                popularity_chart.segments = [];\n                $(\"#tbody_data\").empty();\n                if ($(\"[name=query1]\")[0].value != \"\") {\n                    search($(\"[name=query1]\")[0].value, \"artist\", handleData.bind(undefined, \"#result\", 0), \"#spinner1\");\n                }\n                if ($(\"[name=query2]\")[0].value) {\n                    search($(\"[name=query2]\")[0].value, \"artist\", handleData.bind(undefined, \"#result2\", 1), \"#spinner2\");\n                }\n            });\n        };\n        function initializeCharts() {\n            first_color = Please.make_color({\n                base_color: \"orangered\",\n                saturation: 0.9,\n                value: 0.6\n            });\n            second_color = Please.make_color({\n                base_color: \"cyan\",\n                saturation: 0.9,\n                value: 0.6\n            });\n            var follower_data = {\n                labels: [\n                    \"Followers\"\n                ],\n                datasets: [\n                    {\n                        label: \"My first dataset\",\n                        fillColor: first_color,\n                        data: [0]\n                    },\n                    {\n                        label: \"My second dataset\",\n                        fillColor: second_color,\n                        data: [0]\n                    }\n                ]\n            };\n            var listeners_data = {\n                labels: [\n                    \"Listeners\"\n                ],\n                datasets: [\n                    {\n                        label: \"My first dataset\",\n                        fillColor: first_color,\n                        data: [0]\n                    },\n                    {\n                        label: \"My second dataset\",\n                        fillColor: second_color,\n                        data: [0]\n                    }\n                ]\n            };\n            var playcount_data = {\n                labels: [\n                    \"Playcount\"\n                ],\n                datasets: [\n                    {\n                        label: \"My first dataset\",\n                        fillColor: first_color,\n                        data: [0]\n                    },\n                    {\n                        label: \"My second dataset\",\n                        fillColor: second_color,\n                        data: [0]\n                    }\n                ]\n            };\n            var popularity_data = [];\n\n            var follower_ctx = follower_canvas.getContext(\"2d\");\n            var listeners_ctx = listeners_canvas.getContext(\"2d\");\n            var playcount_ctx = playcount_canvas.getContext(\"2d\");\n            var popularity_ctx = popularity_canvas.getContext(\"2d\");\n\n            follower_chart = new Chart(follower_ctx).Bar(follower_data);\n            listeners_chart = new Chart(listeners_ctx).Bar(listeners_data);\n            playcount_chart = new Chart(playcount_ctx).Bar(playcount_data);\n            popularity_chart = new Chart(popularity_ctx).Doughnut();\n        }\n        function handleData(target, offset, data) {\n            var colors = [first_color, second_color];\n            var spotify_data = data.data[0].value;\n            var spotify_state = data.data[0].state;\n            var lastfm_data = data.data[1].value;\n            var lastfm_state = data.data[1].state;\n            var follower_canvas = document.getElementById(\"follower_canvas\");\n            var listeners_canvas = document.getElementById(\"listeners_canvas\");\n            var playcount_canvas = document.getElementById(\"playcount_canvas\");\n            var popularity_canvas = document.getElementById(\"popularity_canvas\");\n\n            $(target).html(\"<pre><code>\" + JSON.stringify(data, undefined, 2) + \"</code></pre>\");\n            console.log(\"Target\", target);\n            console.log(\"Arguments\", arguments);\n            console.log(\"Got data\", data);\n            if(spotify_state == \"fulfilled\" && lastfm_state == \"fulfilled\"){\n                $(\"#tbody_data\").append(\"<tr><td>\" \n                    + (lastfm_data.artist.name || spotify_data.name) \n                    + \"</td><td>\" \n                    + (addCommas(spotify_data.followers.total) || 0)\n                    + \"</td><td>\" \n                    + (addCommas(lastfm_data.artist.stats.playcount) || 0)\n                    + \"</td><td>\" \n                    + (addCommas(lastfm_data.artist.stats.listeners) || 0)\n                    + \"</td><td>\"\n                    +(lastfm_data.artist.ontour ? \"No\":\"Yes\")\n                    + \"</td><td>\"\n                    + ((lastfm_data.artist.stats.playcount / spotify_data.followers.total).toFixed(2) || 0)\n                    + \"</td><td>\"\n                    + ((lastfm_data.artist.stats.playcount / lastfm_data.artist.stats.listeners).toFixed(2) || 0)\n                    +\"</td></tr>\");\n                console.log(offset);\n                console.log(follower_chart);\n                follower_chart.datasets[offset].bars[0].value = spotify_data.followers.total || 0;\n                listeners_chart.datasets[offset].bars[0].value = lastfm_data.artist.stats.listeners || 0;\n                playcount_chart.datasets[offset].bars[0].value = lastfm_data.artist.stats.playcount || 0;\n                popularity_chart.addData(\n                        {\n                            value: spotify_data.popularity || 0,\n                            color: colors[offset],\n                            highlight: Please.make_color({\n                                base_color: offset === 0 ? \"orangered\" : \"cyan\",\n                                saturation: 0.4,\n                                value: 0.6\n                            }),\n                            label: \"Popularity\"\n                        });\n                console.log(\"Or here?\");\n                follower_chart.update();\n                listeners_chart.update();\n                playcount_chart.update();\n                popularity_chart.update();\n            }\n        }\n    </script>\n{% endblock %}","undoManager":{"mark":98,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":311,"column":32},"end":{"row":311,"column":38},"action":"remove","lines":["lastfm"]},{"start":{"row":311,"column":32},"end":{"row":311,"column":43},"action":"insert","lines":["lastfm_data"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":43},"end":{"row":311,"column":44},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":43},"end":{"row":311,"column":44},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":43},"end":{"row":311,"column":44},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":44},"end":{"row":311,"column":45},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":45},"end":{"row":311,"column":46},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":46},"end":{"row":311,"column":47},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":47},"end":{"row":311,"column":48},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":48},"end":{"row":311,"column":49},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":49},"end":{"row":311,"column":50},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":50},"end":{"row":311,"column":51},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":51},"end":{"row":311,"column":52},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":52},"end":{"row":311,"column":53},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":53},"end":{"row":311,"column":54},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":54},"end":{"row":311,"column":55},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":55},"end":{"row":311,"column":56},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":56},"end":{"row":311,"column":57},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":57},"end":{"row":311,"column":58},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":58},"end":{"row":311,"column":59},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":59},"end":{"row":311,"column":60},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":60},"end":{"row":311,"column":61},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":61},"end":{"row":311,"column":62},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":62},"end":{"row":311,"column":63},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":63},"end":{"row":311,"column":64},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":64},"end":{"row":311,"column":65},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":65},"end":{"row":311,"column":66},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":66},"end":{"row":311,"column":67},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":67},"end":{"row":311,"column":68},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":67},"end":{"row":311,"column":68},"action":"remove","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":67},"end":{"row":311,"column":68},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":68},"end":{"row":311,"column":69},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":98},"end":{"row":311,"column":99},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":99},"end":{"row":311,"column":100},"action":"insert","lines":["|"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":100},"end":{"row":311,"column":101},"action":"insert","lines":["|"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":101},"end":{"row":311,"column":102},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":102},"end":{"row":311,"column":103},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":103},"end":{"row":311,"column":105},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":103},"end":{"row":311,"column":105},"action":"remove","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":103},"end":{"row":311,"column":104},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":22},"end":{"row":311,"column":23},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":312,"column":33},"end":{"row":313,"column":0},"action":"insert","lines":["",""]},{"start":{"row":313,"column":0},"end":{"row":313,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":20},"end":{"row":313,"column":105},"action":"insert","lines":["+ (addCommas(lastfm_data.artist.stats.playcount / spotify_data.followers.total) || 0)"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":70},"end":{"row":313,"column":98},"action":"remove","lines":["spotify_data.followers.total"]},{"start":{"row":313,"column":70},"end":{"row":313,"column":71},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":71},"end":{"row":313,"column":72},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":72},"end":{"row":313,"column":73},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":73},"end":{"row":313,"column":74},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":74},"end":{"row":313,"column":75},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":75},"end":{"row":313,"column":76},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":70},"end":{"row":313,"column":76},"action":"remove","lines":["lastfm"]},{"start":{"row":313,"column":70},"end":{"row":313,"column":81},"action":"insert","lines":["lastfm_data"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":80},"end":{"row":313,"column":81},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":80},"end":{"row":313,"column":81},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":81},"end":{"row":313,"column":82},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":82},"end":{"row":313,"column":83},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":83},"end":{"row":313,"column":84},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":84},"end":{"row":313,"column":85},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":85},"end":{"row":313,"column":86},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":86},"end":{"row":313,"column":87},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":87},"end":{"row":313,"column":88},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":88},"end":{"row":313,"column":89},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":89},"end":{"row":313,"column":90},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":90},"end":{"row":313,"column":91},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":91},"end":{"row":313,"column":92},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":92},"end":{"row":313,"column":93},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":93},"end":{"row":313,"column":94},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":94},"end":{"row":313,"column":95},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":95},"end":{"row":313,"column":96},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":96},"end":{"row":313,"column":97},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":97},"end":{"row":313,"column":98},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":98},"end":{"row":313,"column":99},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":99},"end":{"row":313,"column":100},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":100},"end":{"row":313,"column":101},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":95},"end":{"row":313,"column":101},"action":"remove","lines":["listen"]},{"start":{"row":313,"column":95},"end":{"row":313,"column":104},"action":"insert","lines":["listeners"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":23},"end":{"row":311,"column":32},"action":"remove","lines":["addCommas"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":23},"end":{"row":313,"column":33},"action":"remove","lines":["addCommas("]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":23},"end":{"row":313,"column":24},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":96},"end":{"row":313,"column":97},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":96},"end":{"row":313,"column":97},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":96},"end":{"row":313,"column":97},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":97},"end":{"row":313,"column":98},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":98},"end":{"row":313,"column":99},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":99},"end":{"row":313,"column":100},"action":"insert","lines":["F"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":100},"end":{"row":313,"column":101},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":101},"end":{"row":313,"column":102},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":101},"end":{"row":313,"column":102},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":101},"end":{"row":313,"column":102},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":97},"end":{"row":313,"column":102},"action":"remove","lines":["toFix"]},{"start":{"row":313,"column":97},"end":{"row":313,"column":106},"action":"insert","lines":["toFixed()"]}]}],[{"group":"doc","deltas":[{"start":{"row":313,"column":105},"end":{"row":313,"column":106},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":90},"end":{"row":311,"column":91},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":90},"end":{"row":311,"column":91},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":90},"end":{"row":311,"column":91},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":91},"end":{"row":311,"column":92},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":92},"end":{"row":311,"column":93},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":93},"end":{"row":311,"column":94},"action":"insert","lines":["F"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":94},"end":{"row":311,"column":95},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":95},"end":{"row":311,"column":96},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":91},"end":{"row":311,"column":96},"action":"remove","lines":["toFix"]},{"start":{"row":311,"column":91},"end":{"row":311,"column":100},"action":"insert","lines":["toFixed()"]}]}],[{"group":"doc","deltas":[{"start":{"row":311,"column":99},"end":{"row":311,"column":100},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":305,"column":74},"end":{"row":307,"column":52},"action":"remove","lines":["","                    + \"</td><td>\" ","                    + (spotify_data.popularity || 0)"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":39},"end":{"row":65,"column":36},"action":"remove","lines":["","                    <th>On tour</th>"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":39},"end":{"row":64,"column":40},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":39},"end":{"row":64,"column":40},"action":"remove","lines":["g"]}]}]]},"ace":{"folds":[],"scrolltop":744,"scrollleft":0,"selection":{"start":{"row":64,"column":39},"end":{"row":64,"column":39},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":48,"state":"start","mode":"ace/mode/html"}},"timestamp":1420755283567}